course:
  title: "Securing the Cloud Resources"
  description: "A comprehensive course on cloud security best practices, threat detection, and defensive strategies"
  version: "1.0.0"

modules:
  - id: "module-1"
    title: "Module 1: Forming your world"
    description: "In this lesson you'll become familiar with the AWS Platform, bootstrap a first user, setup billing, and get a primer on logging."
    order: 1

    slide_decks:
      - id: "deck-1-1"
        title: "Get acquainted with the AWS platform"
        link: "https://docs.google.com/presentation/d/1Pky4AoRu821wD44Lq6sA4fnM3eAaEka3rIXxNuo92ak/edit?usp=drive_link"
        order: 1
        resource_links:
          - title: "AWS Security Best Practices"
            url: "https://aws.amazon.com/security/best-practices/"
            description: "Official AWS security documentation"
          - title: "Cloud Security Alliance Guidelines"
            url: "https://cloudsecurityalliance.org/"
            description: "Industry standard security frameworks"
          - title: "NIST Cloud Computing Standards"
            url: "https://www.nist.gov/programs-projects/cloud-computing"
            description: "NIST cloud security standards and guidelines"

      - id: "deck-1-2"
        title: "Your home lab"
        link: "https://docs.google.com/presentation/d/1mePhgcBkHbK89iJ0YezMIkkhprX2GvIvo_thwFGjXks/edit?usp=drive_link"
        order: 2
        resource_links:
          - title: "AWS Account Setup Guide"
            url: "https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/"
            description: "Step-by-step guide to setting up an AWS account"

      - id: "deck-1-3"
        title: "Billing"
        link: "https://docs.google.com/presentation/d/1bH5Ez8wtCbzj4Q-vpmoNMKkXwWyq4uqs3kgMHPpUAZk/edit?usp=drive_link"
        order: 3
        resource_links:
          - title: "AWS Billing and Cost Management"
            url: "https://aws.amazon.com/aws-cost-management/"
            description: "Official AWS billing and cost management documentation"
          - title: "Cost Optimization Strategies"
            url: "https://aws.amazon.com/architecture/cost-optimization/"
            description: "Best practices for optimizing cloud costs"

      - id: "deck-1-4"
        title: "Logging in the Cloud"
        link: "https://docs.google.com/presentation/d/1IjQAOwPla2YwltL43QmXNYed1mSlor9uwJS11YrQfe4/edit?usp=drive_link"
        order: 4
        resource_links:
          - title: "AWS CloudTrail Overview"
            url: "https://docs.aws.amazon.com/cloudtrail/index.html"
            description: "Official AWS CloudTrail documentation"
          - title: "AWS CloudWatch Overview"
            url: "https://docs.aws.amazon.com/cloudwatch/index.html"
            description: "Official AWS CloudWatch documentation"

      - id: "deck-1-5"
        title: "Exercising CloudTrail Logging"
        link: "https://docs.google.com/presentation/d/1o__3b2o7ZinFxlngjVUF9E3MoP-UxB-PUWfQ961KxcY/edit?usp=drive_link"
        order: 5
        resource_links:
          - title: "AWS CloudTrail User Guide"
            url: "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-user-guide.html"
            description: "Comprehensive guide to using AWS CloudTrail"
          - title: "CloudTrail Lake"
            url: "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-lake.html"
            description: "Information on CloudTrail Lake features and usage"

    labs:
      module:
        - id: "module-1-labs"
          title: "Module 1 Labs"
          description: "Hands-on labs to reinforce the concepts learned in Module 1"
          order: 1

          exercises:
            - id: "lab-1-1"
              title: "Lab 1: Get Familiar with Common Issues"
              link: "https://docs.google.com/document/d/1togCUTocA85pLV-jWolgRTaPDUSp6rihrb-t8CcD964/edit?usp=drive_link"
              order: 1
              links:
                - title: "Cloud Breaches"
                  url: "https://breaches.cloud/"

            - id: "lab-1-2"
              title: "Lab 2: Bootstrap your first user and roles"
              link: "https://docs.google.com/document/d/1WezG8_pmZ4prLcdx0QRZlx9EPYUu25KWYKgHQoznqKw/edit?usp=drive_link"
              order: 2
              links:
                - title: "Cloudformation Stacks"
                  url: "https://github.com/andrewkrug/securing-the-cloud-supplemental/tree/main/supplemental/01-02"
                  description: "These are the files with the roles and users you'll create."

            - id: "lab-1-3"
              title: "Lab 3: Setting up command line access for your user"
              link: "https://docs.google.com/document/d/1VhmWnEZFgfM79LlOYGxv4qbOKwq9hxvc8RiZ_MJTvHs/edit?tab=t.0"
              order: 3
              links:
                - title: "AWS Vault"
                  url: "https://github.com/99designs/aws-vault"
                  description: "AWS Vault Project by 99Designs."

            - id: "lab-1-4"
              title: "Lab 4: Setting up billing alarms with the AWS CDK"
              link: "https://docs.google.com/document/d/1_pa2BAo58AysEfZmD4jOn1KK-f69EUg4PyRAdKO1GYQ/edit?usp=drive_link"
              order: 4
              links:
                - title: "Git Repository for the CDK Example"
                  url: "https://github.com/andrewkrug/cdk_billing_demo"
                  description: "This is a vibe coded demo of using the AWS CDK in python to setup billing alarms."

            - id: "lab-1-5"
              title: "Lab 5: Setting up CloudTrail"
              link: "https://docs.google.com/document/d/1oQgedeEnqmojSuir9VHTy-RiS5CzTFcOjBamdQcBy2I/edit?tab=t.0"
              order: 5
              links:
                - title: "Git Repository for the CloudTrail Setup"
                  url: "https://github.com/andrewkrug/single_account_cloudtrail_and_lake"
                  description: "CloudTrail with S3 and CloudTrail Lake - CloudFormation Template and Reference Queries"

            - id: "lab-1-6"
              title: "Lab 6: Exercising CloudTrail with Adversary Emulation"
              link: "https://docs.google.com/document/d/1YnUaAqOaZi84IvI1zTyO3fMh6g8rWsa-4Neig0VFClI/edit?tab=t.0"
              order: 6
              links:
                - title: "Git Repository for the Stratus Red Team Wrapper"
                  url: "https://github.com/andrewkrug/stratus_cloudshell_example"
                  description: "An example of what it takes to get stratus red team up and running in AWS Cloudshell quickly for a demo."

  - id: "module-2"
    title: "Module 2: Deploying a sample application and evolving it"
    description: "In this lesson you are the solo security engineer for Mr. Bluejays Shoe Store.  You'll be evolving and auditing the application like an expert appsec engineer."
    order: 1

    slide_decks:
      - id: "deck-2-1"
        title: "Your First Service"
        link: "https://docs.google.com/presentation/d/1CHxxTo2csuwJZBW8pbS--gOzkGlUYiDnwA_WPeFguDQ/edit?usp=drive_link"
        order: 1
        resource_links:
          - title: "Deploying Applications on AWS"
            url: "https://aws.amazon.com/getting-started/hands-on/deploy-web-app/"
            description: "Step-by-step guide to deploying web applications on AWS"

      - id: "deck-2-2"
        title: "All about IaC (Infrastructure as Code)"
        link: "https://docs.google.com/presentation/d/1jpFfzDSESpNkmYedEbgNRlDO0ph3rFi6rcDb4fnMjMI/edit?usp=drive_link"
        order: 2
        resource_links:
          - title: "AWS CloudFormation Overview"
            url: "https://aws.amazon.com/cloudformation/"
            description: "Official AWS CloudFormation documentation"
          - title: "AWS CDK Overview"
            url: "https://aws.amazon.com/cdk/"
            description: "Official AWS Cloud Development Kit documentation"

      - id: "deck-2-3"
        title: "Monitoring and Serverless Essentials"
        link: "https://docs.google.com/presentation/d/1NWjS_tXgxAztkKcOmqun3ASre_gFrr8c9d2XKnv9OwE/edit?usp=drive_link"
        order: 3
        resource_links:
          - title: "AWS Lambda Overview"
            url: "https://aws.amazon.com/lambda/"
            description: "Official AWS Lambda documentation"
          - title: "Monitoring Serverless Applications"
            url: "https://aws.amazon.com/blogs/compute/monitoring-serverless-applications-with-amazon-cloudwatch/"
            description: "Best practices for monitoring serverless applications"

      - id: "deck-2-4"
        title: "Log Interrogation"
        link: "https://docs.google.com/presentation/d/1zdEMYx_Uua2m3lF-Ggw4w2jOy_IPD8kKuxuEX6wW4Bw/edit?usp=drive_link"
        order: 4
        resource_links:
          - title: "Analyzing CloudTrail Logs"
            url: "https://aws.amazon.com/premiumsupport/knowledge-center/analyze-cloudtrail-logs-athena/"
            description: "Guide to analyzing CloudTrail logs using Amazon Athena"
          - title: "Using CloudWatch Logs Insights"
            url: "https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/AnalyzingLogData.html"
            description: "Documentation on using CloudWatch Logs Insights for log analysis"

    labs:
      module:
        - id: "module-2-labs"
          title: "Module 2 Labs"
          description: "Hands-on labs to reinforce the concepts learned in Module 2"
          order: 1

          exercises:
            - id: "lab-2-1"
              title: "Lab 1: Deploy the Shoe Store as a Single Stack"
              link: "https://docs.google.com/document/d/1Aej3Y_2cXarBv16JEvfiuzPyZEifmjDpnuAyuzMwKwc/edit?tab=t.0"
              order: 1
              links:
                - title: "Git Repository for the Single Stack Shoe Store"
                  url: "https://github.com/andrewkrug/mr_bluejays_demo_app"
                  description: "A simple demo application for a retail store on the web with misconfigurations. Based on Mr. Bluejays shoe store version 1."

            - id: "lab-2-2"
              title: "Lab 2: Introduction to Terraform"
              link: "https://docs.google.com/document/d/1335F5CzHM0XmmmoaFt12spaxj1OCZy7PIkjZZrdKyws/edit?tab=t.0"
              order: 2
              links:
                - title: "Git Repository for a Terraform Example"
                  url: "https://github.com/andrewkrug/simple-terraform-application"
                  description: "A simple demo application for a retail store on the web with misconfigurations. Based on Mr. Bluejays shoe store version 1."

            - id: "lab-2-3"
              title: "Lab 3: Deploying Nested Stacks with Cloudformation"
              link: "https://docs.google.com/document/d/1mGB9pjURv4GAvLT59ftD-cxWYR-h9FvDclQ0d9cHyd0/edit?tab=t.0"
              order: 3
              links:
                - title: "Git Repository for the Single Stack Shoe Store"
                  url: "https://github.com/andrewkrug/mr_bluejays_demo_app_nested/tree/main#"
                  description: "Nested version of Mr. Bluejays shoes."

            - id: "lab-2-4"
              title: "Lab 4: Setting up Flow Logging"
              link: "https://docs.google.com/document/d/1t4NIhGjuafvE87U2VutYGBfCiEEYxKjjHd7IcEtPuyg/edit?tab=t.0"
              order: 4
              links:
                - title: "Git Repository for setting up flow logging"
                  url: "https://github.com/andrewkrug/vpc_flow_logging_example"
                  description: "A sample of two type of VPC flow logging."

            - id: "lab-2-5"
              title: "Lab 5: Setting up DNS Logging"
              link: "https://docs.google.com/document/d/1wZ41Y2lcM24HKajF2dE7FHk60wYZkENCSg0V6NFuruI/edit?tab=t.0"
              order: 5
              links:
                - title: "Git Repository for setting up DNS logging"
                  url: "https://github.com/andrewkrug/dns_logging_example"
                  description: "A sample of how to query and enable DNS logs in AWS."

            - id: "lab-2-6"
              title: "Lab 6: BONUS Lab - Querying Flow Logs Using Athena"
              link: "https://docs.google.com/document/d/12JW_ML81J4I7FsAD-AJXCxbMByjLQlQRnJm577TjR-M/edit?tab=t.0"
              order: 6
              links:
                - title: "Git Repository for setting up flow logging"
                  url: "https://github.com/andrewkrug/vpc_flow_logging_example"
                  description: "A sample of two type of VPC flow logging."

  - id: "module-3"
    title: "Module 3: Detecting and Remediating Common Misconfigurations"
    description: "In this module we will examine how to detect and remediate common misconfigurations in AWS across infrastructure and Identity and Access."
    order: 1

    slide_decks:
      - id: "deck-3-1"
        title: "Examining Common Misconfigurations"
        link: "https://docs.google.com/presentation/d/1olglByojvP7kJ5B5tteeroQG5FdomBluy5ZuW-2_74o/edit?usp=drive_link"
        order: 1
        resource_links:
          - title: "AWS Security Best Practices"
            url: "https://aws.amazon.com/security/best-practices/"
            description: "Official AWS security documentation"
          - title: "CIS AWS Foundations Benchmark"
            url: "https://www.cisecurity.org/benchmark/amazon_web_services/"
            description: "CIS benchmark for AWS security best practices"
          - title: "OWASP Cloud Security"
            url: "https://owasp.org/www-project-cloud-security/"
            description: "OWASP guidelines for cloud security"

      - id: "deck-3-2"
        title: "Auditing for Misconfigurations"
        link: "https://docs.google.com/presentation/d/1jPCu6C3InN0WjlFOIOZ2oEkN4yULpHoNWdKpK_sthtQ/edit?usp=drive_link"
        order: 2
        resource_links:
          - title: "AWS Config Overview"
            url: "https://aws.amazon.com/config/" 
            description: "Official AWS Config documentation"
          - title: "Prowler Cli Open Source"
            url: "https://prowler.com/"
            description: "Open source security tool to perform AWS security best practices assessments, audits, incident response, continuous monitoring, and hardening."
          - title: "Scout Suite Open Source"  
            url: "https://github.com/nccgroup/ScoutSuite"
            description: "Multi-Cloud Security Auditing Tool"

      - id: "deck-3-3"
        title: "Identity and Access Deep Dive"
        link: "https://docs.google.com/presentation/d/1rjCA4hZU802gdgetG8SSLzrp0JaRlq1WUxFF1EoHgVQ/edit?usp=drive_link"
        order: 3
        resource_links:
          - title: "AWS IAM Best Practices"
            url: "https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html"
            description: "Official AWS IAM best practices documentation"
          - title: "Understanding IAM Policies"
            url: "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html"
            description: "Comprehensive guide to IAM policies and permissions"
          - title: "AWS IAM Access Analyzer"
            url: "https://aws.amazon.com/iam/features/analyze-access/"
            description: "Tool to help identify resources that are shared with an external entity"

    labs:
      module:
        - id: "module-3-labs"
          title: "Module 3 Labs"
          description: "Hands-on labs to reinforce the concepts learned in Module 3"
          order: 1

          exercises:
            - id: "lab-3-1"
              title: "Lab 1: Identification of Data Breach Root Causes"
              link: "https://docs.google.com/document/d/1M9T4pssa6EzD8pFVFez-5JZMONgvMudaErcwvo7osjc/edit?usp=drive_link"
              order: 1
              links:
                - title: "Cloud Breaches"
                  url: "https://breaches.cloud/"
                  description: "A collection of public cloud data breaches."
                - title: "Common Cloud Misconfigurations"
                  url: " https://www.prisma.io/blog/top-cloud-misconfigurations"
                  description: "A blog post on common cloud misconfigurations."

            - id: "lab-3-2"
              title: "Lab 2: Auditing for Misconfigurations with AWS Config Rules (optional)"
              link: "https://docs.google.com/document/d/1vST4ClBaxbtc7VmthP9T6ry4_VoioR_9DVC7RHfSpxY/edit?tab=t.0"
              order: 2
              links:
                - title: "AWS Config Rules"
                  url: "https://docs.aws.amazon.com/config/latest/developerguide/evaluater.html"
                  description: "Official AWS Config Rules documentation"
  
            - id: "lab-3-3"
              title: "Lab 3: Auditing for Misconfigurations with Prowler and Authoring Reports"
              link: "https://docs.google.com/document/d/1--1-MTsWA8j_CNntxjyDTt5d90xKZQZ9mS6P_4szo7Q/edit?tab=t.0"
              order: 3
              links:
                - title: "Prowler GitHub Repository"
                  url: "https://prowler.com/"
            
            - id: "lab-3-4"
              title: "Lab 4: Auditing Identity and Access with PMapper"
              link: "https://docs.google.com/document/d/1HB3k1-Tp4Yz9tMZ21Su3ZmnnSIOjedEEwKs3WUhXfW4/edit?tab=t.0"
              order: 4
              links:
                - title: "IAM vulnerable"
                  url: "https://github.com/BishopFox/iam-vulnerable.git"
                  description: "A collection of vulnerable IAM policies to help you learn about IAM misconfigurations."
                - title: "PMapper GitHub Repository"
                  url: "https://github.com/nccgroup/PMapper"
                  description: "PMapper is a tool to help visualize and analyze AWS IAM permissions."

            - id: "lab-3-5"
              title: "Lab 5: Working with Permissions Boundaries"
              link: "https://docs.google.com/document/d/1FtqIyq1AFpbgU_mCNmElJA5xuXeMWPG78JSkNoDPyw4/edit?usp=drive_link"
              order: 5
              links:
                - title: "AWS IAM Permissions Boundaries"
                  url: "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_boundaries.html"
                  description: "Official AWS documentation on IAM permissions boundaries."
                - title: "Git Repository for the Permissions Boundary Example"
                  url: "https://github.com/andrewkrug/permissions_boundary_demo"
                  description: "A simple demo of how to use permissions boundaries in AWS IAM."

  - id: "module-4"
    title: "Module 4: Maturing your security posture"
    description: "In this module we will examine Guardrails of various types in AWS and how to implement measures to reduce security friction like SSO."
    order: 1

    slide_decks:
      - id: "deck-4-1"
        title: "Enabling and Onboarding Access Analyzer"
        link: "https://docs.google.com/presentation/d/1olglByojvP7kJ5B5tteeroQG5FdomBluy5ZuW-2_74o/edit?usp=drive_link"
        order: 1
        resource_links:
          - title: "AWS IAM Access Analyzer"
            url: "https://aws.amazon.com/iam/features/analyze-access/"
            description: "Tool to help identify resources that are shared with an external entity"
          - title: "Getting Started with Access Analyzer"
            url: "https://docs.aws.amazon.com/IAM/latest/UserGuide/what-is-access-analyzer.html"
            description: "Official AWS documentation on getting started with Access Analyzer"
      
      - id: "deck-4-2"
        title: "A briefing on Guardrails"
        link: "https://docs.google.com/presentation/d/1b3tyC0BE23dIjcFWVOXrE5YsWy9-cmyYiLYyihkXQVo/edit?usp=drive_link"
        order: 2
        resource_links:
          - title: "AWS Control Tower Overview"
            url: "https://aws.amazon.com/controltower/"
            description: "Official AWS Control Tower documentation"
          - title: "AWS Organizations Overview"
            url: "https://aws.amazon.com/organizations/"
            description: "Official AWS Organizations documentation"
          - title: "AWS Service Control Policies"
            url: "https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scp.html"
            description: "Comprehensive guide to AWS Service Control Policies"
      
      - id: "deck-4-3"
        title: "A walk through of advanced features in AWS Organizations"
        link: "https://docs.google.com/presentation/d/1WnKNda8ENdY5BlsKPV1eIJQNSwo5BgWWPuzOKu6k_SA/edit?usp=drive_link"
        order: 3
        resource_links:
          - title: "AWS Organizations Features"
            url: "https://docs.aws.amazon.com/organizations/latest/userguide/orgs_reference_features.html"
            description: "Official AWS documentation on Organizations features"
          - title: "Managing AWS Accounts"
            url: "https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_accounts.html"
            description: "Guide to managing AWS accounts within an organization"
          - title: "Consolidated Billing in AWS Organizations"
            url: "https://docs.aws.amazon.com/organizations/latest/userguide/orgs_concepts_consolidated_billing.html"
            description: "Overview of consolidated billing features in AWS Organizations"
      
      - id: "deck-4-4"
        title: "Implementing SSO with AWS IAM Identity Center"
        link: "https://docs.google.com/presentation/d/1cRsy7bP3I-uKe07heUkJ16W5o4Ze5nw9LxiKNZZX9VQ/edit?usp=drive_link"
        order: 4
        resource_links:
          - title: "AWS IAM Identity Center Overview"
            url: "https://aws.amazon.com/single-sign-on/"
            description: "Official AWS IAM Identity Center documentation"
          - title: "Getting Started with AWS IAM Identity Center"
            url: "https://docs.aws.amazon.com/singlesignon/latest/userguide/getting-started.html"
            description: "Guide to getting started with AWS IAM Identity Center"
          - title: "Integrating AWS IAM Identity Center with External Identity Providers"
            url: "https://docs.aws.amazon.com/singlesignon/latest/userguide/integrating-with-idp.html"
            description: "Instructions for integrating AWS IAM Identity Center with external identity providers

      - id: "deck-4-5"
        title: "Creating a security automation using Cloud Custodian"
        link: "https://docs.google.com/presentation/d/1SHyrCP006m8A3-5wKPNEbBEThUK170X7VusWJgpPVsQ/edit?usp=drive_link"
        order: 5
        resource_links:
          - title: "Cloud Custodian Overview"
            url: "https://cloudcustodian.io/"
            description: "Official Cloud Custodian documentation"
          - title: "Getting Started with Cloud Custodian"
            url: "https://cloudcustodian.io/docs/getting-started.html"
            description: "Guide to getting started with Cloud Custodian"
    labs:
      module:
        - id: "module-4-labs"
          title: "Module 4 Labs"
          description: "Hands-on labs to reinforce the concepts learned in Module 4"
          order: 1

          exercises:
            - id: "lab-4-1"
              title: "Lab 1: Enabling and Onboarding Access Analyzer"
              link: "https://docs.google.com/document/d/1HHgBgIHBjbj9vYNKqpEDrm9CzmG29DeBjrb8TEo1QK8/edit?usp=drive_link"
              order: 1
              links:
                - title: "AWS IAM Access Analyzer Bootstrap Git Repository"
                  url: "https://github.com/andrewkrug/access_analyzer_bootstrap"
                  description: "A simple script to bootstrap Access Analyzer in your AWS account."
            
            - id: "lab-4-2"
              title: "Lab 2: Exploring Guardrails through an SCP Generator"
              link: "https://docs.google.com/document/d/1B7ak_yH_0fNtRawtf5Luj-J1jLS29_M61_i2sK3rCYE/edit?usp=sharing"
              order: 2
              links:
                - title: "SCP Generator"
                  url: "https://asecure.cloud"
                  description: "An open source tool to help generate Service Control Policies (SCPs) for AWS Organizations."
            
            - id: "lab-4-3"
              title: "Lab 3: Exploring Guardrails using Terraform and Testing"
              link: "https://docs.google.com/document/d/1m0HoUzku_mQUkQlvetlS0F0AmIENbL7sk79FDr55Wos/edit?usp=sharing"
              order: 3
              links:
                - title: "Git Repository for the Terraform SCP Example"
                  url: "https://github.com/andrewkrug/organizations_terraform_sample"
                  description: "A simple demo of how to use Terraform to create an AWS Organization with SCP
          
            - id: "lab-4-4"
              title: "Lab 4: Implementing SSO with AWS IAM Identity Center"
              link: "https://docs.google.com/document/d/1hksK2fYR6i0Ogj2rNRPlhtwuorlBMTW7B4haIpk9P48/edit?usp=drive_link"
              order: 4

            - id: "lab-4-5"
              title: "Lab 5: Creating a security automation using Cloud Custodian"
              link: "https://docs.google.com/document/d/1s1qf90sgPkKgpyGwVrytT_mPRZuPML3NU0Zzgs_C6D0/edit?usp=drive_link"
              order: 5
              links:
                - title: "Git Repository for the Cloud Custodian Example"
                  url: "https://github.com/andrewkrug/custodian_bootstrap_and_example"
                  description: "A simple demo of how to use Cloud Custodian to automate security tasks in AWS."
